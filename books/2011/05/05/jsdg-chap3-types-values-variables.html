
<!DOCTYPE html>
<!--[if IE 7 ]>    <html lang="zh-CN" class="ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="zh-CN" class="ie8"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--> <html lang="zh-CN"> <!--<![endif]-->
  <head>
	  <meta charset="utf-8">
	  <!--[if IE 8 ]><meta http-equiv="X-UA-Compatible" content="IE=7"><![endif]-->
	  <title>BW编程之js类型篇(二)</title>
	<meta name="keywords" content="张华宁,javascript,js">
    <meta name="description" content="javascript类型、值、变量">
    <meta name="author" content="张华宁">

    <!-- Enable responsive viewport -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- Favicon -->
	<link rel="shortcut icon" href="/favicon.ico">

    <!-- atom & rss feed -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

	<!-- Styles 
	<link rel="stylesheet" href="/assets/themes/twitter/css/style.min.css">
	<link rel="stylesheet" href="/assets/themes/twitter/css/font-awesome.min.css">
	-->
	<!-- le Styles -->
	<link rel="stylesheet" href="/assets/themes/twitter/bootstrap/css/bootstrap.2.2.2.min.css">
	<link rel="stylesheet" href="/assets/themes/twitter/css/style.css?body=1">

	<!-- Scripts -->
	<script type="text/javascript" src="/assets/themes/twitter/js/jquery-1.10.1.min.js"></script>

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
	<script src="/assets/themes/twitter/js/html5shiv.js"></script>
    <![endif]-->

  </head>

  <body>
    <div class="navbar">
      <div class="navbar-inner">
        <div class="container-narrow">
          <a class="brand" href="/">张华宁的笔记本</a>
          <ul class="nav">
            
            
            


  
    
      
      	
      	<li><a href="/tags.html">Tags</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/categories.html">Categories</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/pages.html">Pages</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/archive.html">Archive</a></li>
      	
      
    
  



          </ul>
        </div>
      </div>
    </div>

    <div class="container-narrow">

      <div class="content">
        
<div class="page-header">
  <h1>BW编程之js类型篇(二) </h1>
</div>

<div class="row-fluid post-full">
  <div class="span12">
    <div class="date">
      <span>05 May 2011</span>
    </div>
    <div class="content">
      <h4 id="white">White:类型、值、变量分别指什么，它们之间有什么联系和区别？</h4>

<p><em>Black:</em>计算机程序的运行需要对“值value”进行操作。在编程语言中，能够表示并操作的值的类型称作”数据类型type“，编程语言最基本的特性是支持多种数据类型，比如字符串、数字、布尔值、数组等等。当程序需要将一个值反复使用，就需要将其保存在一个”变量variable“中。简单来说 <code>var name = &quot;zhn&quot; </code>中var是类型，”zhn“是值，name是变量。</p>
<hr />
<h4 id="whitejavascript">White:javascript是弱类型语言，这个怎么理解？</h4>

<p><em>Black:</em>强/弱类型是指类型检查的严格程度的。语言有无类型，弱类型和强类型三种。无类型的不检查，甚至不区分指令和数据。弱类型的检查很弱，仅能严格的区分指令和数据。强类型的则严格的在编译期进行检查。</p>

<p>像java、c#等强类型语言而言，变量和值都有自己的类型，在编译阶段就可检查类型匹配。比如<code>String name</code>，变量name的类型是String，这是静态类型，也就是name只能被赋值字符串<code>name=&quot;zhn&quot;</code>，而不能被赋值数字<code>name=30</code>，否则编译就会报错。你也可以声明<code>object age</code>，这样可以<code>age = 30, age = &quot;zhn&quot;</code>，这样可以近似实现弱类型，不过这样会需要在运行时频繁的类型转换，不能发挥强类型的优点了。</p>

<p>而javascript中的变量都用var来声明，比如<code>var name</code>本身不指定具体类型，name可以被赋任何类型值，<code>name=&quot;zhn&quot;， name=3， name=new Date()， name=[1,2,3]</code>等等都是可以的，所以说js是弱类型语言，就是变量无类型，值有类型。</p>
<hr />
<h4 id="whitejavascript_2">White:javascript的值有哪些类型？</h4>

<p><em>Black:</em>js中的值分为原始类型和对象类型两大类，原始类型只有5种，分别是：字符串、数字、布尔值、null、undefined。</p>

<p>除了原始类型其他的都是对象类型，常见的有数组Array、正则RegExp、日期Date、错误Error、普通对象Object、函数Function等。</p>

<p><strong><em>注意：原始类型都是不可变类型。对象类型都是可变类型。</em></strong></p>
<hr />
<h4 id="whitejavascript_3">White:详细介绍一下javascript原始类型？</h4>

<p><em>Black:</em>原始类型都是不可变类型。不能修改原始值本身，包括特别是字符串也不能修改。例如：</p>

<pre><code>	1 var name = &quot;zhn&quot;; //=&gt; zhn
	2 var zhn = &quot;zhn&quot;;  //=&gt; zhn
	3 name = name.toUpperCase(); //=&gt; ZHN
	4 zhn //=&gt; zhn</code></pre>

<p>上面的行1,2中”zhn”是完全不相关的内存中的两个区域的值，行3中的toUpperCase没有改变行1中的”zhn”，而是生成了一个新的”ZHN”来进行替代，原来行1的”zhn”没有任何变量去关联它，它会被js的垃圾回收机制进行回收。而2中的”zhn”不受任何影响。</p>

<p>原始类型中的字符串、数字、布尔值都可以被包装成相应的对象String、Number、Boolean。被包装成对象后具有相应的一些方法,比如string的sub、split、toUpperCase等方法。在包装对象的过程中有”临时对象”的概念需要注意，例如：</p>

<pre><code>	1 var name = &quot;zhn&quot;;
	2 name.toUpperCase(); //=&gt; ZHN，注意这里没有进行赋值，包装的是一个临时对象obj,然后调用了obj.toUpperCase()方法。
	3 name //=&gt; zhn ，注意name依然是&quot;zhn&quot;，没有任何改变，行2中的临时对象obj已经被抛弃了。</code></pre>

<p>原始类型中的null和undefined都代表“空”的意思,它们都是唯一值,不可被包装成对象，也就是它们没有任何方法，调用它们的任何方法都会报错。null和undefined一般来说其区别是：null代表定义了变量但未赋值的空，引用类型的变量赋空值一般也用null，<code>typeof null //=&gt; object</code>。undefined代表未定义的空，就是不存在这个变量<code>typeof undefined //=&gt; undefined</code>。</p>

<p><strong><em>null是关键字，undefined不是关键字，是一个全局变量。你或许可以认为undefined是表示系统级的，出乎意料或者类似错误的值的空缺。而null是程序级的，正常的或意料之中的值的空缺。如果需要将其赋给变量或属性或参数，最佳选择是使用null。</em></strong></p>
<hr />
<h4 id="whitejavascript_4">White:javascript的原始类型使用中有哪些需要注意的？</h4>

<p><em>Black:</em> 关于数字，js预定义了全局变量Infinity和NaN表示正无穷大和非数字，其中NaN和任何值都不相等，包括自身。判断Nan需要使用x != NaN进行判断。还有浮点数运算是有误差，整数没有。</p>

<p>关于布尔值，假值只有false、“”、0、-0、null、NaN、undefined，其余都是真值，真值也就是在if语句判断中为真，假值判断为假。</p>
<hr />
<h4 id="whitejavascript_5">White:详细介绍一下javascript的对象类型？</h4>

<p><em>Black:</em>对象类型都是可变的引用类型，它们的值是可修改的。<em>原始值的相等比较是比较值，而对象类型相等比较是比较的引用地址，如果想比较两个对象的值相等需要自己去实现方法或者简单的序列化后比较值。</em></p>

<p>所有js的对象类型都可以看作统一看作哈希值（hash或者字典），由键、值对构成。例如：</p>

<pre><code>	var zhn = { name:&quot;zhanghuaning&quot;, 
				age:30,
				say: function() {return &quot;Hello world&quot;}
			  };
	var names = [&quot;zhn&quot;, &quot;black&quot;, &quot;white&quot;];
	var sayHi = function(name) {return &quot;Hi&quot; + name;};
	zhn[&quot;name&quot;] //=&gt; zhanghuaning
	names[0] //=&gt; zhn ,数组只是键为正整数并且会自动维护length的对象。
	sayHi[&quot;length&quot;] //=&gt;1,相当语sayHi.length取得函数的声明参数个数，function也是对象，length是它的属性。</code></pre>
<hr />
<h4 id="white_2">White:介绍一下类型转换的相关内容？</h4>

<p><em>Black:</em> 比较罗嗦并且用到不太多，常用的基本遇到2次就掌握了，等以后上一张图片慢慢看吧。</p>

<p>这里介绍一点类型转换相关的小技巧或注意事项吧，遇到这些情况能认识就好。</p>

<p>注意事项：==和===的区别在于前者会进行类型转换后比较<code>2 == &quot;2&quot; //=&gt; true</code>，后者不进行类型转换比较<code>2 === &quot;2&quot; //=&gt;false</code>。</p>

<p>+优先考虑字符串<code>1 + &quot;x&quot; //=&gt;&quot;1x&quot;</code>,其他操作考虑数字<code>&quot;2&quot; * &quot;3&quot; //=&gt;6 ,“1” - “x” //=&gt;NaN</code></p>

<p>小技巧： x + ”” 转换成字符串</p>

<p>+x 转换成数字</p>

<p>!!x 转换成布尔值</p>

<p>void 0 转换成undefined</p>
<hr />
    </div>

  
    <ul class="tag_box inline">
      <li><i class="icon-folder-open"></i></li>
      
      


  
     
    	<li><a href="/categories.html#books-ref">
    		books <span>6</span>
    	</a></li>
    
  


    </ul>
    

  
    <ul class="tag_box inline">
      <li><i class="icon-tags"></i></li>
      
      


  
     
    	<li><a href="/tags.html#javascript-ref">javascript <span>6</span></a></li>
     
    	<li><a href="/tags.html#web-ref">web <span>6</span></a></li>
    
  



    </ul>
    

    <hr>
    <div class="pagination">
      <ul>
      
        <li class="prev"><a href="/books/2011/05/01/jsdg-chap1-introduction.html" title="BW编程之js概述篇(一)">&larr; Previous</a></li>
      
        <li><a href="/archive.html">Archive</a></li>
      
        <li class="next"><a href="/books/2011/05/10/jsdg-chap3-types-values-variables2.html" title="BW编程之js变量篇(三)">Next &rarr;</a></li>
      
      </ul>
    </div>
    <hr>
    


  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1;
    var disqus_shortname = 'izhanghuaning'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>




  </div>
</div>


      </div>
	  <hr>
      <footer>
        <p>&copy;2011-2014 张华宁
          基于 <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          和 <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a> 搭建,
		  <em><strong>本博客的很多想法来自于其他优秀博客作者，时隔久远不能给出每个链接了，如果原作者觉得被冒犯，请留言或联系我（izhanghuaning$163.com），我会及时进行处理，衷心感谢你们，本博客内容和源代码遵循<a href="http://opensource.org/licenses/mit-license.php" target="_blank">MIT开源协议</a>,转载请注明出处，谢谢。</strong></em>
        </p>
      </footer>

    </div>

    
  </body>
</html>

